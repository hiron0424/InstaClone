<%= render 'layouts/navbar' %>

<div class="container" style="min-height: 60vh">
  <div class="card shadow mt-5 mb-5">
    <h3 class="text-center mt-5">ユーザ情報を編集</h3>

    <div class="container">
      <%= form_with(model: @user, local: true ) do |f| %>

        <div class="field">
          <%= f.label :image %><br/>
          <% if @user.image.presence %>
            <%= image_tag(@user.image.url, size: '130x130',class: 'rounded-circle border border-secondly img-responsive m-4') %>
          <% else %>
            <%= image_tag('no_image.jpg', size: '130x130',class: 'rounded-circle border border-secondly img-responsive m-4') %>
          <% end %>
          <%= f.file_field :image %>
          <%= f.hidden_field :image_cache %>
        </div>

        <div class="form-group">
          <%= f.label :name %>
          <%= f.text_field :name, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= f.label :email %>
          <%= f.text_field :email, class: 'form-control', placeholder: 'Enter your email' %>
        </div>

        <div class="form-group">
          <%= f.label :password %>
          <%= f.password_field :password, class: 'form-control', placeholder: 'Password' %>
          <span id="helpBlock" class="text-muted">パスワードは半角英数、6文字以上で入力してください。</span>
        </div>

        <div class="form-group">
          <%= f.label :password_confirmation %>
          <%= f.password_field :password_confirmation, class: 'form-control' %>
        </div>

        <div class="actions">
          <%= f.submit '更新する', class: 'btn btn-primary btn-block my-5' %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<%= render 'layouts/footer'%>